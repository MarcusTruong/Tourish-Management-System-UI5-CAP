<mvc:View
    controllerName="tourishui.controller.supplier.ServiceList"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout">

    <Page id="serviceListPage" title="Services" titleLevel="H2">
        <f:DynamicPageHeader id="_IDGenDynamicPageHeader1">
            <layout:Grid defaultSpan="XL4 L4 M6 S12" class="sapUiSmallMarginTop">
                <layout:content>
                    <VBox id="_IDGenVBox1">
                        <Label id="_IDGenLabel1" text="Service Name" />
                        <SearchField id="serviceNameSearch" placeholder="Search by service name..." class="sapUiSmallMarginEnd" width="100%" search=".onSearch" />
                    </VBox>

                    <VBox id="_IDGenVBox2">
                        <Label id="_IDGenLabel2" text="Supplier" />
                        <ComboBox id="supplierFilter" placeholder="Select Supplier..." class="sapUiSmallMarginEnd" width="100%" 
                            items="{path: '/Suppliers'}">
                            <core:Item id="_IDGenItem1" key="{ID}" text="{supplierName}" />
                        </ComboBox>
                    </VBox>

                    <VBox id="_IDGenVBox3">
                        <Label id="_IDGenLabel3" text="Service Type" />
                        <ComboBox id="serviceTypeFilter" placeholder="Select Type..." class="sapUiSmallMarginEnd" width="100%" 
                            items="{path: 'types>/types'}">
                            <core:Item id="_IDGenItem2" key="{types>}" text="{types>}" />
                        </ComboBox>
                    </VBox>

                    <VBox id="_IDGenVBox4">
                        <Label id="_IDGenLabel4" text="Price Range" />
                        <layout:HorizontalLayout id="_IDGenHorizontalLayout1" class="sapUiTinyMarginBottom">
                            <Input id="minPriceInput" type="Number" placeholder="Min" width="6rem" class="sapUiTinyMarginEnd" />
                            <Text id="_IDGenText1" text="to" class="sapUiTinyMarginEnd sapUiTinyMarginTop" />
                            <Input id="maxPriceInput" type="Number" placeholder="Max" width="6rem" />
                        </layout:HorizontalLayout>
                        <Button id="_IDGenButton10" text="Search" type="Emphasized" press=".onSearch" width="100%" />
                    </VBox>

                    <VBox id="_IDGenVBox5">
                        <Label id="_IDGenLabel5" text="Actions" />
                        <Button id="clearFilterButton" text="Clear Filters" press=".onClearFilters" width="100%" />
                    </VBox>
                </layout:content>
            </layout:Grid>
        </f:DynamicPageHeader>

        <content>
            <VBox id="_IDGenVBox6">
                <OverflowToolbar id="_IDGenOverflowToolbar1">
                    <Title id="_IDGenTitle1" text="All Services" level="H2" />
                    <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                    <Button id="_IDGenButton12"
                        icon="sap-icon://download"
                        tooltip="Export to Excel"
                        press=".onExport" />
                    <Button id="_IDGenButton13"
                        icon="sap-icon://action-settings"
                        tooltip="Table Settings"
                        press=".onTableSettings" />
                </OverflowToolbar>

                <Table
                    id="servicesTable"
                    inset="false"
                    items="{
                        path: '/services'
                    }"
                    growing="true"
                    growingThreshold="20"
                    growingScrollToLoad="true"
                    sticky="HeaderToolbar,ColumnHeaders"
                    alternateRowColors="true">

                    <columns>
                        <Column id="_IDGenColumn1" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="_IDGenText2" text="Service ID" />
                        </Column>
                        <Column id="_IDGenColumn2" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="_IDGenText3" text="Service Name" />
                        </Column>
                        <Column id="_IDGenColumn3" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="_IDGenText4" text="Service Type" />
                        </Column>
                        <Column id="_IDGenColumn4" minScreenWidth="Desktop" demandPopin="true">
                            <Text id="_IDGenText5" text="Supplier" />
                        </Column>
                        <Column id="_IDGenColumn5" minScreenWidth="Desktop" demandPopin="true">
                            <Text id="_IDGenText6" text="Description" />
                        </Column>
                        <Column id="_IDGenColumn6" hAlign="End" minScreenWidth="Desktop" demandPopin="true">
                            <Text id="_IDGenText7" text="Price" />
                        </Column>
                        <Column id="_IDGenColumn7" width="8rem" hAlign="End">
                            <Text id="_IDGenText8" text="Actions" />
                        </Column>
                    </columns>

                    <items>
                        <ColumnListItem id="_IDGenColumnListItem1" type="Navigation" press=".onServicePress">
                            <cells>
                                <Text id="_IDGenText9" text="{ID}" />
                                <Text id="_IDGenText10" text="{ServiceName}" />
                                <Text id="_IDGenText11" text="{ServiceType}" />
                                <Text id="_IDGenText12" text="{SupplierName}" />
                                <Text id="_IDGenText13" text="{Description}" />
                                <ObjectNumber id="_IDGenObjectNumber1" number="{Price}" unit="VND" />
                                <HBox id="_IDGenHBox1" justifyContent="End">
                                    <Button id="_IDGenButton14" icon="sap-icon://edit" press=".onEditService" tooltip="Edit" />
                                    <Button id="_IDGenButton15" icon="sap-icon://delete" press=".onDeleteService" tooltip="Delete" class="sapUiTinyMarginBegin" />
                                </HBox>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </VBox>
        </content>

        <footer>
            <OverflowToolbar id="_IDGenOverflowToolbar2">
                <ToolbarSpacer id="_IDGenToolbarSpacer2" />
                <Text id="tableCountText2" text="Services: {= ${/services}.length || 0}" />
                <ToolbarSpacer id="_IDGenToolbarSpacer3" />
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>